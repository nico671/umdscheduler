import{t as P,a as b,c as Le,d as Vs}from"../chunks/SAxT4GhW.js";import{i as We}from"../chunks/DJZnGtkj.js";import{a3 as Tt,b as Ct,ap as st,A as Ts,h as ze,a4 as $t,x as Pt,k as t,Q as Be,y as Et,z as Ws,B as Cs,c as cs,af as It,C as tt,a as at,D as Dt,aq as $s,aj as rt,I as Nt,a6 as Js,ar as Os,as as Ys,at as js,L as V,au as Ks,a2 as lt,av as Rt,aw as Ot,ai as jt,ax as Lt,d as Ft,ay as Bt,ad as Ut,az as Ht,aA as qt,aB as Gt,i as je,G as ot,aC as Vt,N as Wt,J as Jt,F as it,aD as Yt,p as Je,M as L,aE as $e,l as Ve,aF as ns,s as l,v as r,q as Ye,f as Se,w as v,t as U,aG as es,aH as Qs,aI as ps}from"../chunks/BpTswYDJ.js";import{a as Kt,l as Ls,e as H,s as N,b as Qt}from"../chunks/Du5amvOE.js";import{p as re,i as oe,b as fs,s as we,a as Fs,c as Me,d as Ps}from"../chunks/BIKkHqwm.js";import{c as hs,o as Ms,w as be,g as as}from"../chunks/UFYTEpbQ.js";function ie(e,s){return s}function Xt(e,s,a,i){for(var n=[],o=s.length,c=0;c<o;c++)Ot(s[c].e,n,!0);var d=o>0&&n.length===0&&a!==null;if(d){var x=a.parentNode;jt(x),x.append(a),i.clear(),Ge(e,s[0].prev,s[o-1].next)}Lt(n,()=>{for(var D=0;D<o;D++){var C=s[D];d||(i.delete(C.k),Ge(e,C.prev,C.next)),Ft(C.e,!d)}})}function ne(e,s,a,i,n,o=null){var c=e,d={flags:s,items:new Map,first:null},x=(s&st)!==0;if(x){var D=e;c=ze?Ts($t(D)):D.appendChild(Tt())}ze&&Pt();var C=null,O=!1,y=Be(()=>{var M=a();return lt(M)?M:M==null?[]:rt(M)});Ct(()=>{var M=t(y),f=M.length;if(O&&f===0)return;O=f===0;let F=!1;if(ze){var J=c.data===Et;J!==(f===0)&&(c=Ws(),Ts(c),Cs(!1),F=!0)}if(ze){for(var q=null,W,A=0;A<f;A++){if(cs.nodeType===8&&cs.data===It){c=cs,F=!0,Cs(!1);break}var T=M[A],j=i(T,A);W=nt(cs,d,q,null,T,j,A,n,s,a),d.items.set(j,W),q=W}f>0&&Ts(Ws())}ze||Zt(M,d,c,n,s,i,a),o!==null&&(f===0?C?tt(C):C=at(()=>o(c)):C!==null&&Dt(C,()=>{C=null})),F&&Cs(!0),t(y)}),ze&&(c=cs)}function Zt(e,s,a,i,n,o,c){var ve,fe,ae,ee;var d=(n&Rt)!==0,x=(n&(Os|js))!==0,D=e.length,C=s.items,O=s.first,y=O,M,f=null,F,J=[],q=[],W,A,T,j;if(d)for(j=0;j<D;j+=1)W=e[j],A=o(W,j),T=C.get(A),T!==void 0&&((ve=T.a)==null||ve.measure(),(F??(F=new Set)).add(T));for(j=0;j<D;j+=1){if(W=e[j],A=o(W,j),T=C.get(A),T===void 0){var he=y?y.e.nodes_start:a;f=nt(he,s,f,f===null?s.first:f.next,W,A,j,i,n,c),C.set(A,f),J=[],q=[],y=f.next;continue}if(x&&ea(T,W,j,n),(T.e.f&$s)!==0&&(tt(T.e),d&&((fe=T.a)==null||fe.unfix(),(F??(F=new Set)).delete(T))),T!==y){if(M!==void 0&&M.has(T)){if(J.length<q.length){var G=q[0],k;f=G.prev;var S=J[0],te=J[J.length-1];for(k=0;k<J.length;k+=1)Xs(J[k],G,a);for(k=0;k<q.length;k+=1)M.delete(q[k]);Ge(s,S.prev,te.next),Ge(s,f,S),Ge(s,te,G),y=G,f=te,j-=1,J=[],q=[]}else M.delete(T),Xs(T,y,a),Ge(s,T.prev,T.next),Ge(s,T,f===null?s.first:f.next),Ge(s,f,T),f=T;continue}for(J=[],q=[];y!==null&&y.k!==A;)(y.e.f&$s)===0&&(M??(M=new Set)).add(y),q.push(y),y=y.next;if(y===null)continue;T=y}J.push(T),f=T,y=T.next}if(y!==null||M!==void 0){for(var Y=M===void 0?[]:rt(M);y!==null;)(y.e.f&$s)===0&&Y.push(y),y=y.next;var K=Y.length;if(K>0){var X=(n&st)!==0&&D===0?a:null;if(d){for(j=0;j<K;j+=1)(ae=Y[j].a)==null||ae.measure();for(j=0;j<K;j+=1)(ee=Y[j].a)==null||ee.fix()}Xt(s,Y,X,C)}}d&&Nt(()=>{var le;if(F!==void 0)for(T of F)(le=T.a)==null||le.apply()}),Js.first=s.first&&s.first.e,Js.last=f&&f.e}function ea(e,s,a,i){(i&Os)!==0&&Ys(e.v,s),(i&js)!==0?Ys(e.i,a):e.i=a}function nt(e,s,a,i,n,o,c,d,x,D){var C=(x&Os)!==0,O=(x&Bt)===0,y=C?O?V(n):Ks(n):n,M=(x&js)===0?c:Ks(c),f={i:M,v:y,k:o,a:null,e:null,prev:a,next:i};try{return f.e=at(()=>d(e,y,M,D),ze),f.e.prev=a&&a.e,f.e.next=i&&i.e,a===null?s.first=f:(a.next=f,a.e.next=f.e),i!==null&&(i.prev=f,i.e.prev=f.e),f}finally{}}function Xs(e,s,a){for(var i=e.next?e.next.e.nodes_start:a,n=s?s.e.nodes_start:a,o=e.e.nodes_start;o!==i;){var c=Ut(o);n.before(o),o=c}}function Ge(e,s,a){s===null?e.first=a:(s.next=a,s.e.next=a&&a.e),a!==null&&(a.prev=s,a.e.prev=s&&s.e)}function sa(e,s,a){var i=e==null?"":""+e;return i=i?i+" "+s:s,i===""?null:i}function ta(e,s){return e==null?null:String(e)}function aa(e,s,a,i,n,o){var c=e.__className;if(ze||c!==a||c===void 0){var d=sa(a,i);(!ze||d!==e.getAttribute("class"))&&(d==null?e.removeAttribute("class"):e.className=d),e.__className=a}return o}function qe(e,s,a,i){var n=e.__style;if(ze||n!==s){var o=ta(s);(!ze||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=s}return i}const ra=Symbol("is custom element"),la=Symbol("is html");function ct(e){if(ze){var s=!1,a=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var i=e.value;Zs(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var n=e.checked;Zs(e,"checked",null),e.checked=n}}};e.__on_r=a,Ht(a),Kt()}}function Zs(e,s,a,i){var n=oa(e);ze&&(n[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")||n[s]!==(n[s]=a)&&(s==="loading"&&(e[qt]=a),e.removeAttribute(s))}function oa(e){return e.__attributes??(e.__attributes={[ra]:e.nodeName.includes("-"),[la]:e.namespaceURI===Gt})}function ia(e,s,a=s){var i=Vt();Ls(e,"input",n=>{var o=n?e.defaultValue:e.value;if(o=Es(e)?Is(o):o,a(o),i&&o!==(o=s())){var c=e.selectionStart,d=e.selectionEnd;e.value=o??"",d!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(d,e.value.length))}}),(ze&&e.defaultValue!==e.value||je(s)==null&&e.value)&&a(Es(e)?Is(e.value):e.value),ot(()=>{var n=s();Es(e)&&n===Is(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function na(e,s,a=s){Ls(e,"change",i=>{var n=i?e.defaultChecked:e.checked;a(n)}),(ze&&e.defaultChecked!==e.checked||je(s)==null)&&a(e.checked),ot(()=>{var i=s();e.checked=!!i})}function Es(e){var s=e.type;return s==="number"||s==="range"}function Is(e){return e===""?null:+e}function ca(e,s,a){var i=Wt(e,s);i&&i.set&&(e[s]=a,Jt(()=>{e[s]=null}))}function ws(e,s,a){if(e.multiple)return va(e,s);for(var i of e.options){var n=ds(i);if(Yt(n,s)){i.selected=!0;return}}(!a||s!==void 0)&&(e.selectedIndex=-1)}function vt(e,s){let a=!0;it(()=>{s&&ws(e,je(s),a),a=!1;var i=new MutationObserver(()=>{var n=e.__value;ws(e,n)});return i.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}})}function ss(e,s,a=s){var i=!0;Ls(e,"change",n=>{var o=n?"[selected]":":checked",c;if(e.multiple)c=[].map.call(e.querySelectorAll(o),ds);else{var d=e.querySelector(o)??e.querySelector("option:not([disabled])");c=d&&ds(d)}a(c)}),it(()=>{var n=s();if(ws(e,n,i),i&&n===void 0){var o=e.querySelector(":checked");o!==null&&(n=ds(o),a(n))}e.__value=n,i=!1}),vt(e)}function va(e,s){for(var a of e.options)a.selected=~s.indexOf(ds(a))}function ds(e){return"__value"in e?e.__value:e.value}function _s(e){return function(...s){var a=s[0];a.target===this&&(e==null||e.apply(this,s))}}function Ke(e){return function(...s){var a=s[0];return a.stopPropagation(),e==null?void 0:e.apply(this,s)}}function da(e){return function(...s){var a=s[0];return a.preventDefault(),e==null?void 0:e.apply(this,s)}}function zs(e,s){var o;var a=(o=e.$$events)==null?void 0:o[s.type],i=lt(a)?a.slice():a==null?[]:[a];for(var n of i)n.call(this,s)}var ua=P('<div class="loading svelte-1iml2y7"><div class="spinner svelte-1iml2y7"></div> <p class="svelte-1iml2y7">Loading course information...</p></div>'),fa=P('<div class="instructor-item svelte-1iml2y7"><div class="instructor-info svelte-1iml2y7"><div class="instructor-name svelte-1iml2y7"> </div> <button class="view-details-btn svelte-1iml2y7">View Details</button></div> <button><!></button></div>'),ha=P('<p class="svelte-1iml2y7">No instructors available for this course.</p>'),_a=P('<div class="modal-header svelte-1iml2y7"><div class="svelte-1iml2y7"><h1 class="svelte-1iml2y7"> </h1> <h2 class="svelte-1iml2y7"> </h2></div> <div class="button-group svelte-1iml2y7"><button class="action-btn danger svelte-1iml2y7">Remove Class</button> <button class="close-btn svelte-1iml2y7"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1iml2y7"><line x1="18" y1="6" x2="6" y2="18" class="svelte-1iml2y7"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-1iml2y7"></line></svg></button></div></div> <div class="course-description svelte-1iml2y7"><h3 class="svelte-1iml2y7">Description</h3> <p class="svelte-1iml2y7"> </p></div> <div class="instructors-section svelte-1iml2y7"><h3 class="svelte-1iml2y7">Instructors</h3> <div class="instructors-list svelte-1iml2y7"><!></div></div>',1),ga=P('<dialog class="modal svelte-1iml2y7"><div class="modal-content svelte-1iml2y7"><!></div></dialog>');function ba(e,s){Je(s,!1);let a=re(s,"className",8),i=re(s,"showModal",12),n=re(s,"prohibitedProfessors",24,()=>[]);re(s,"showProfessorModals",24,()=>[]);let o=re(s,"index",8),c=re(s,"closeModal",8),d=re(s,"removeClasses",8),x=re(s,"prohibitProf",8),D=re(s,"reAddProfessor",8);const C=hs();let O=V(),y=V(""),M=V(""),f=V([]),F=[],J=V(!0);Ms(async()=>{L(J,!0),await q()});async function q(){try{const S=new URL(`https://api.umd.io/v1/courses/${a()}`),Y=await(await fetch(S)).json();if(Array.isArray(Y)&&Y.length>0){const K=Y[0];L(y,K.description||"No description available"),L(M,K.name||a());const X=new URL(`https://api.umd.io/v1/courses/${a()}/sections`),fe=await(await fetch(X)).json(),ae=new Set;F=fe||[],F.forEach(ee=>{Array.isArray(ee.instructors)&&ee.instructors.forEach(le=>{le&&le!=="Instructor: TBA"&&ae.add(le)})}),L(f,Array.from(ae))}}catch(S){console.error("Error fetching course data:",S),L(y,"Failed to load course details")}finally{L(J,!1)}}function W(S){C("viewProfessor",{professorName:S}),t(O).close()}function A(S){n().includes(S)?D()(S):x()(S)}$e(()=>(t(O),Ve(i())),()=>{t(O)&&i()&&t(O).showModal()}),ns(),We();var T=ga(),j=l(T),he=l(j);{var G=S=>{var te=ua();b(S,te)},k=S=>{var te=_a(),Y=Se(te),K=l(Y),X=l(K),ve=l(X,!0);r(X);var fe=v(X,2),ae=l(fe,!0);r(fe),r(K);var ee=v(K,2),le=l(ee),_e=v(le,2);r(ee),r(Y);var de=v(Y,2),me=v(l(de),2),ye=l(me,!0);r(me),r(de);var ke=v(de,2),Ae=v(l(ke),2),E=l(Ae);{var R=p=>{var B=Le(),w=Se(B);ne(w,1,()=>t(f),ie,(Z,h)=>{var z=fa(),_=l(z),u=l(_),g=l(u,!0);r(u);var $=v(u,2);r(_);var I=v(_,2),Q=l(I);{var ue=ce=>{var xe=Vs("Allow");b(ce,xe)},se=ce=>{var xe=Vs("Prohibit");b(ce,xe)};oe(Q,ce=>{n().includes(t(h))?ce(ue):ce(se,!1)})}r(I),r(z),U(ce=>{N(g,t(h)),aa(I,1,`instructor-action ${ce??""}`,"svelte-1iml2y7")},[()=>n().includes(t(h))?"prohibited":""],Be),H("click",$,Ke(()=>W(t(h)))),H("click",I,Ke(()=>A(t(h)))),b(Z,z)}),b(p,B)},m=p=>{var B=ha();b(p,B)};oe(E,p=>{t(f).length>0?p(R):p(m,!1)})}r(Ae),r(ke),U(()=>{N(ve,a()),N(ae,t(M)),N(ye,t(y))}),H("click",le,()=>{d()(a()),t(O).close()}),H("click",_e,()=>c()(o())),b(S,te)};oe(he,S=>{t(J)?S(G):S(k,!1)})}r(j),r(T),fs(T,S=>L(O,S),()=>t(O)),H("click",j,Ke(function(S){zs.call(this,s,S)})),H("close",T,()=>i(!1)),H("click",T,_s(()=>c()(o()))),b(e,T),Ye()}var ma=P('<div class="no-results svelte-1j02xbn">No matches found</div>'),pa=P('<button class="filtered-class-list-item svelte-1j02xbn"> </button>'),wa=P('<div class="filtered-class-list svelte-1j02xbn"><!></div>'),ya=P('<dialog class="modal svelte-1j02xbn"><div class="modal-content svelte-1j02xbn"><div class="modal-header svelte-1j02xbn"><h1 class="svelte-1j02xbn">Add A Class</h1> <button class="close-btn svelte-1j02xbn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div id="search-column" class="svelte-1j02xbn"><input class="class-search-bar svelte-1j02xbn" placeholder="Search for classes (e.g. CMSC131)"> <!></div></div></dialog>');function xa(e,s){Je(s,!1);const a=V();let i=re(s,"showAddClassModal",8),n=re(s,"availableClasses",24,()=>[]),o=re(s,"addedClasses",24,()=>[]);const c=hs();let d=V(),x=V("");function D(A){o().includes(A)||c("add",{className:A,showModal:!0}),L(x,"")}function C(){c("close"),t(d).close()}$e(()=>(t(d),Ve(i())),()=>{t(d)&&i()&&t(d).showModal()}),$e(()=>(Ve(n()),t(x)),()=>{L(a,n().filter(A=>A.includes(t(x).toUpperCase())).slice(0,50))}),ns(),We();var O=ya(),y=l(O),M=l(y),f=v(l(M),2);r(M);var F=v(M,2),J=l(F);ct(J),Qt(J);var q=v(J,2);{var W=A=>{var T=wa(),j=l(T);{var he=k=>{var S=ma();b(k,S)},G=k=>{var S=Le(),te=Se(S);ne(te,1,()=>t(a),ie,(Y,K)=>{var X=pa(),ve=l(X,!0);r(X),U(()=>N(ve,t(K))),H("click",X,()=>D(t(K))),b(Y,X)}),b(k,S)};oe(j,k=>{t(a).length===0?k(he):k(G,!1)})}r(T),b(A,T)};oe(q,A=>{t(x).length&&A(W)})}r(F),r(y),r(O),fs(O,A=>L(d,A),()=>t(d)),H("click",f,C),ia(J,()=>t(x),A=>L(x,A)),H("click",y,Ke(function(A){zs.call(this,s,A)})),H("close",O,()=>c("close")),H("click",O,_s(C)),b(e,O),Ye()}var Ma=P('<label class="day-checkbox svelte-lrxo2l"><input type="checkbox" class="svelte-lrxo2l"> <span class="checkbox-display svelte-lrxo2l"> </span></label>'),za=P("<option> </option>"),Sa=P("<option> </option>"),ka=P("<option> </option>"),Aa=P("<option> </option>"),Ta=P("<option> </option>"),Ca=P("<option> </option>"),$a=P('<dialog class="modal svelte-lrxo2l"><div class="modal-content svelte-lrxo2l" role="dialog"><div class="modal-header svelte-lrxo2l"><h1 class="svelte-lrxo2l">Add Time Restriction</h1> <button class="close-btn svelte-lrxo2l"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <form><div class="form-group svelte-lrxo2l"><label class="form-label svelte-lrxo2l">Select Days</label> <div class="days-grid svelte-lrxo2l"></div> <div class="day-actions svelte-lrxo2l"><button type="button" class="btn-link svelte-lrxo2l">Select All</button> <button type="button" class="btn-link svelte-lrxo2l">Clear All</button></div></div> <div class="time-container svelte-lrxo2l"><div class="time-section svelte-lrxo2l"><label class="form-label svelte-lrxo2l">Start Time</label> <div class="time-inputs svelte-lrxo2l"><select class="time-select svelte-lrxo2l"></select> <span class="time-separator svelte-lrxo2l">:</span> <select class="time-select svelte-lrxo2l"></select> <select class="ampm-select svelte-lrxo2l"></select></div></div> <div class="time-section svelte-lrxo2l"><label class="form-label svelte-lrxo2l">End Time</label> <div class="time-inputs svelte-lrxo2l"><select class="time-select svelte-lrxo2l"></select> <span class="time-separator svelte-lrxo2l">:</span> <select class="time-select svelte-lrxo2l"></select> <select class="ampm-select svelte-lrxo2l"></select></div></div></div> <div class="form-footer svelte-lrxo2l"><button type="button" class="btn btn-outline svelte-lrxo2l">Cancel</button> <button type="submit" class="btn btn-primary svelte-lrxo2l"> </button></div></form></div></dialog>');function Pa(e,s){Je(s,!1);const a=V();let i=re(s,"showTimeSelectionModal",12,!1);const n=[];let o=V(),c=V({Monday:!1,Tuesday:!1,Wednesday:!1,Thursday:!1,Friday:!1}),d=V("8"),x=V("00"),D=V("AM"),C=V("9"),O=V("00"),y=V("AM");const M=["Monday","Tuesday","Wednesday","Thursday","Friday"],f={Monday:"M",Tuesday:"Tu",Wednesday:"W",Thursday:"Th",Friday:"F"},F=Array.from({length:12},(h,z)=>String(z+1)),J=["00","15","30","45"],q=["AM","PM"],W=hs();function A(){W("close"),t(o).close()}function T(){const h=Object.entries(t(c)).filter(([g,$])=>$).map(([g,$])=>g),z=j(t(d),t(x),t(D)),_=j(t(C),t(O),t(y)),u=h.map(g=>{const $=new Map;return $.set("days",f[g]),$.set("start_time",z),$.set("end_time",_),$});W("addMultiple",u)}function j(h,z,_){let u=parseInt(h);return _==="PM"&&u<12?u+=12:_==="AM"&&u===12&&(u=0),`${u.toString().padStart(2,"0")}:${z}${_.toLowerCase()}`}function he(h){for(const z of M)Qs(c,t(c)[z]=h);L(c,{...t(c)})}$e(()=>(t(o),Ve(i())),()=>{t(o)&&i()&&t(o).showModal()}),$e(()=>t(c),()=>{L(a,Object.values(t(c)).some(h=>h))}),ns(),We();var G=$a(),k=l(G),S=l(k),te=v(l(S),2);r(S);var Y=v(S,2),K=l(Y),X=v(l(K),2);ne(X,5,()=>M,ie,(h,z)=>{var _=Ma(),u=l(_);ct(u);var g=v(u,2),$=l(g,!0);r(g),r(_),U(I=>N($,I),[()=>t(z).substring(0,3)],Be),na(u,()=>t(c)[t(z)],I=>Qs(c,t(c)[t(z)]=I)),b(h,_)}),r(X);var ve=v(X,2),fe=l(ve),ae=v(fe,2);r(ve),r(K);var ee=v(K,2),le=l(ee),_e=v(l(le),2),de=l(_e);U(()=>{t(d),es(()=>{})}),ne(de,5,()=>F,ie,(h,z)=>{var _=za(),u={},g=l(_,!0);r(_),U(()=>{u!==(u=t(z))&&(_.value=(_.__value=t(z))??""),N(g,t(z))}),b(h,_)}),r(de);var me=v(de,4);U(()=>{t(x),es(()=>{})}),ne(me,5,()=>J,ie,(h,z)=>{var _=Sa(),u={},g=l(_,!0);r(_),U(()=>{u!==(u=t(z))&&(_.value=(_.__value=t(z))??""),N(g,t(z))}),b(h,_)}),r(me);var ye=v(me,2);U(()=>{t(D),es(()=>{})}),ne(ye,5,()=>q,ie,(h,z)=>{var _=ka(),u={},g=l(_,!0);r(_),U(()=>{u!==(u=t(z))&&(_.value=(_.__value=t(z))??""),N(g,t(z))}),b(h,_)}),r(ye),r(_e),r(le);var ke=v(le,2),Ae=v(l(ke),2),E=l(Ae);U(()=>{t(C),es(()=>{})}),ne(E,5,()=>F,ie,(h,z)=>{var _=Aa(),u={},g=l(_,!0);r(_),U(()=>{u!==(u=t(z))&&(_.value=(_.__value=t(z))??""),N(g,t(z))}),b(h,_)}),r(E);var R=v(E,4);U(()=>{t(O),es(()=>{})}),ne(R,5,()=>J,ie,(h,z)=>{var _=Ta(),u={},g=l(_,!0);r(_),U(()=>{u!==(u=t(z))&&(_.value=(_.__value=t(z))??""),N(g,t(z))}),b(h,_)}),r(R);var m=v(R,2);U(()=>{t(y),es(()=>{})}),ne(m,5,()=>q,ie,(h,z)=>{var _=Ca(),u={},g=l(_,!0);r(_),U(()=>{u!==(u=t(z))&&(_.value=(_.__value=t(z))??""),N(g,t(z))}),b(h,_)}),r(m),r(Ae),r(ke),r(ee);var p=v(ee,2),B=l(p),w=v(B,2),Z=l(w);return r(w),r(p),r(Y),r(k),r(G),fs(G,h=>L(o,h),()=>t(o)),U(h=>{w.disabled=!t(a),N(Z,`Add Restriction${h??""}`)},[()=>t(c)&&Object.values(t(c)).filter(Boolean).length>1?"s":""],Be),H("click",te,A),H("click",fe,()=>he(!0)),H("click",ae,()=>he(!1)),ss(de,()=>t(d),h=>L(d,h)),ss(me,()=>t(x),h=>L(x,h)),ss(ye,()=>t(D),h=>L(D,h)),ss(E,()=>t(C),h=>L(C,h)),ss(R,()=>t(O),h=>L(O,h)),ss(m,()=>t(y),h=>L(y,h)),H("click",B,A),H("submit",Y,da(T)),H("click",k,Ke(function(h){zs.call(this,s,h)})),H("close",G,()=>i(!1)),H("click",G,_s(A)),b(e,G),ca(s,"prohibitedTimes",n),Ye({prohibitedTimes:n})}var Ea=P('<div class="loading svelte-zb7ob1"><div class="spinner svelte-zb7ob1"></div> <p class="svelte-zb7ob1">Loading professor information...</p></div>'),Ia=P('<button class="action-btn svelte-zb7ob1"> </button>'),Da=P('<span class="course-chip svelte-zb7ob1"> </span>'),Na=P('<p class="svelte-zb7ob1">No courses available</p>'),Ra=P('<div class="review-card svelte-zb7ob1"><div class="review-header svelte-zb7ob1"><span class="review-course svelte-zb7ob1"> </span> <span class="review-date svelte-zb7ob1"> </span></div> <div class="review-grades svelte-zb7ob1"><span class="grade-badge svelte-zb7ob1"> </span> <span class="rating-badge-small svelte-zb7ob1"> </span></div> <p class="review-text svelte-zb7ob1"> </p></div>'),Oa=P('<div class="reviews-container svelte-zb7ob1"></div>'),ja=P('<p class="svelte-zb7ob1">No reviews available for your selected courses.</p>'),La=P('<div class="modal-header svelte-zb7ob1"><h1 class="svelte-zb7ob1"> </h1> <div class="button-group svelte-zb7ob1"><!> <button class="close-btn svelte-zb7ob1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-zb7ob1"><line x1="18" y1="6" x2="6" y2="18" class="svelte-zb7ob1"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-zb7ob1"></line></svg></button></div></div> <div class="rating-section svelte-zb7ob1"><div class="rating-badge svelte-zb7ob1"><span class="rating-value svelte-zb7ob1"> </span> <span class="rating-label svelte-zb7ob1">Average Rating</span></div></div> <h2 class="svelte-zb7ob1">Courses</h2> <div class="courses-list svelte-zb7ob1"><!></div> <h2 class="svelte-zb7ob1">Reviews</h2> <!>',1),Fa=P('<dialog class="modal svelte-zb7ob1"><div class="modal-content svelte-zb7ob1"><!></div></dialog>');function et(e,s){Je(s,!1);const a=V();hs();let i=re(s,"addedClasses",8),n=re(s,"showModal",8),o=V(),c=re(s,"profName",8),d=V("Instructor"),x=V([]),D=V([]),C=V("N/A"),O=re(s,"index",8),y=re(s,"closeModal",8),M=re(s,"reAddProfessor",8),f=V(!0),F=re(s,"isViewOnly",8,!1),J=re(s,"returnTo",8,null);Ms(async()=>{console.log(n());const G=new URL("https://planetterp.com/api/v1/professor");G.searchParams.append("name",c()),G.searchParams.append("reviews","true");try{const S=await(await fetch(G)).json();console.log(S),L(D,S.reviews||[]),L(C,S.average_rating||"N/A"),L(d,S.type||"Instructor"),L(x,S.courses||[]),L(f,!1)}catch(k){console.error("Error fetching professor data:",k),L(f,!1),t(o)&&t(o).close()}});function q(){t(o)&&t(o).open&&(t(o).close(),setTimeout(()=>{y()(O(),new CustomEvent("close",{detail:{returnTo:J()}}))},0))}$e(()=>(t(d),t(x),t(f)),()=>{L(a,t(d)&&t(x)&&!t(f))}),$e(()=>(t(o),Ve(n())),()=>{t(o)&&n()&&(t(o).open?(t(o).close(),setTimeout(()=>{t(o).showModal()},0)):t(o).showModal())}),ns(),We();var W=Fa(),A=l(W),T=l(A);{var j=G=>{var k=Ea();b(G,k)},he=G=>{var k=La(),S=Se(k),te=l(S),Y=l(te,!0);r(te);var K=v(te,2),X=l(K);{var ve=m=>{var p=Ia(),B=l(p);r(p),U(()=>N(B,`Allow ${t(d)??""}`)),H("click",p,()=>{M()(c()),q()}),b(m,p)};oe(X,m=>{F()||m(ve)})}var fe=v(X,2);r(K),r(S);var ae=v(S,2),ee=l(ae),le=l(ee),_e=l(le,!0);r(le),ps(2),r(ee),r(ae);var de=v(ae,4),me=l(de);{var ye=m=>{var p=Le(),B=Se(p);ne(B,1,()=>t(x),ie,(w,Z)=>{var h=Da(),z=l(h,!0);r(h),U(()=>N(z,t(Z))),b(w,h)}),b(m,p)},ke=m=>{var p=Na();b(m,p)};oe(me,m=>{t(x).length>0?m(ye):m(ke,!1)})}r(de);var Ae=v(de,4);{var E=m=>{var p=Oa();ne(p,5,()=>t(D),ie,(B,w)=>{var Z=Le(),h=Se(Z);{var z=_=>{var u=Ra(),g=l(u),$=l(g),I=l($,!0);r($);var Q=v($,2),ue=l(Q,!0);r(Q),r(g);var se=v(g,2),ce=l(se),xe=l(ce);r(ce);var Ie=v(ce,2),De=l(Ie);r(Ie),r(se);var He=v(se,2),ge=l(He,!0);r(He),r(u),U(()=>{N(I,t(w).course),N(ue,t(w).created),N(xe,`Grade: ${t(w).expected_grade||"N/A"}`),N(De,`Rating: ${t(w).rating||"N/A"}`),N(ge,t(w).review)}),b(_,u)};oe(h,_=>{i().includes(t(w).course)&&_(z)})}b(B,Z)}),r(p),b(m,p)},R=m=>{var p=ja();b(m,p)};oe(Ae,m=>{t(D).length>0?m(E):m(R,!1)})}U(()=>{N(Y,c()),N(_e,t(C))}),H("click",fe,q),b(G,k)};oe(T,G=>{t(f)?G(j):G(he,!1)})}r(A),r(W),fs(W,G=>L(o,G),()=>t(o)),H("close",W,()=>q()),H("click",W,_s(()=>q())),b(e,W),Ye()}const rs=be([]),Ze=be([]),Qe=be([]),Ue=be([]),ls=be([]),ys=be(new Map),ts=be(!1),vs=be(!1),xs=be(!1),Bs=be(0),Ce=be([]),Fe=be([]),os=be([]),dt=be("rating"),Pe=be(null),Xe=be([]),us=be({}),Ee=be(""),Us=be([]),Ba="#e21833",Ua="#FFD200";function Ds(e){const s=[210,180,120,330,270,30,150,300,60,240];return`hsl(${s[e%s.length]}, 70%, 85%)`}async function gs(){const e=as(Ze),s=as(Qe),a=as(Ue),i=as(Ee);if(e.length<2){Pe.set("Please add at least two classes before generating schedules");return}ls.set([]),os.set([]),Pe.set(null),xs.set(!0);try{const n=s.map(x=>x instanceof Map?Object.fromEntries(x):x),o={wanted_classes:e,restrictions:{semester:i||"202401",minSeats:1,prohibitedInstructors:a,prohibitedTimes:n,required_classes:e}};console.log(`Generating schedules for semester: ${i} (${is(i)})`);const c=await fetch("/api/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(6e4)});if(!c.ok){const x=await c.text();let D=`Server returned ${c.status}`;try{const C=JSON.parse(x);C!=null&&C.error&&(D=C.error)}catch{}throw new Error(D)}const d=await c.json();d!=null&&d.length?(ls.set(d),os.set(d),Bs.set(d.length),console.log(`Loaded ${d.length} schedules`)):Pe.set("No possible schedules found with your constraints")}catch(n){console.error("Schedule generation failed:",n),n instanceof Error?n.name==="AbortError"?Pe.set("Request timed out. The server might be overloaded."):Pe.set(n.message):Pe.set("Failed to generate schedules. Please try again later.")}finally{xs.set(!1)}}function Ha(e){console.log(`Received ${(e==null?void 0:e.length)||0} schedules`),!Array.isArray(e)||e.length===0?Pe.set("No possible schedules found with your constraints"):(ls.set(e),Bs.set(e.length),os.set(e),console.log(`Loaded all ${e.length} schedules at once`))}function ut(e){let s=[];Qe.subscribe(a=>s=a)(),s.splice(e,1),Qe.set([...s])}function ft(e){const s=e instanceof Map?e:new Map(Object.entries(e)),a=s.get("days")||"",i=Ns(s.get("start_time")||""),n=Ns(s.get("end_time")||"");let o="";switch(a){case"M":o="M";break;case"Tu":o="Tu";break;case"W":o="W";break;case"Th":o="Th";break;case"F":o="F";break;default:o=a}return`${o}:${i}-${n}`}function Ns(e){const s=e.match(/^(\d{1,2}):(\d{2})(am|pm)$/i);if(!s)return e;const[a,i,n,o]=s,c=parseInt(i),d=o.charAt(0).toUpperCase();return`${c.toString()}${n==="00"?"":n}${d}`}async function Rs(e,s){let a={};us.subscribe(o=>a=o)();const i=as(Ee),n=s||i||"202401";console.log(`Fetching details for ${e} with semester: ${n}`);try{const o=new URL(`https://api.umd.io/v1/courses/${e}`);o.searchParams.set("semester",n);const d=await(await fetch(o)).json();if(Array.isArray(d)&&d.length>0){const x=[];d[0].sections&&d[0].sections.forEach(D=>{D.instructors&&D.instructors.forEach(C=>{C&&C!=="Instructor: TBA"&&!x.includes(C)&&x.push(C)})}),a[e]=x,us.set(a)}}catch(o){console.error(`Error fetching details for ${e}:`,o)}}function ht(e){let s=[],a=[],i=new Map,n={},o=[];Ze.subscribe(d=>s=d)(),rs.subscribe(d=>a=d)(),ys.subscribe(d=>i=d)(),us.subscribe(d=>n=d)(),Ue.subscribe(d=>o=d)();const c=s.indexOf(e);if(c!==-1){s.splice(c,1),Ze.set([...s]),i.delete(e),ys.set(i),Ce.set(new Array(s.length).fill(!1)),a.includes(e)||(a.push(e),a.sort(),rs.set(a));const d=new Set;Object.entries(n).forEach(([x,D])=>{x!==e&&s.includes(x)&&D.forEach(C=>d.add(C))}),o=o.filter(x=>d.has(x)),Ue.set(o),Fe.set(new Array(o.length).fill(!1)),delete n[e],us.set(n)}}async function _t(e){let s=[];Ue.subscribe(a=>s=a)(),!s.includes(e)&&(s.push(e),Ue.set([...s]),Fe.set(new Array(s.length).fill(!1)))}function bs(e){let s=[];if(Ue.subscribe(i=>s=i)(),!s.includes(e))return;const a=s.indexOf(e);s.splice(a,1),Ue.set([...s]),Fe.set(new Array(s.length).fill(!1))}function gt(e){let s=[];Ce.subscribe(a=>s=a)(),s[e]=!1,Ce.set([...s])}function bt(e){let s=[];Fe.subscribe(a=>s=a)(),s[e]=!1,Fe.set([...s])}function ms(e){const{professorName:s,returnTo:a}=e.detail;let i=[];Xe.subscribe(o=>i=o)();const n=i.findIndex(o=>o.name===s);n>=0?(i[n].showModal=!0,i[n].returnTo=a):i=[...i,{name:s,showModal:!0,returnTo:a}],Xe.set(i)}function mt(e,s){let a=[];Xe.subscribe(n=>a=n)();const i=a[e];if(i){const n=i.returnTo;i.showModal=!1,Xe.set([...a]),setTimeout(()=>{var o;if(a=a.filter((c,d)=>d!==e),Xe.set(a),n&&((o=s==null?void 0:s.detail)!=null&&o.returnTo)&&n.type==="class"){let c=[];Ce.subscribe(d=>c=d)(),c[n.index]=!0,Ce.set([...c])}},300)}}function pt(e){let s="";return dt.subscribe(a=>s=a)(),s==="rating"?[...e].sort((a,i)=>i.prof_weight-a.prof_weight):e}function wt(e,s){const a=e.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(!a)return e;const i=parseInt(a[1],10),n=parseInt(a[2],10),o=Math.max(parseInt(a[3],10)-s,0);return`hsl(${i}, ${n}%, ${o}%)`}function yt(e,s){const a=e instanceof Map?e:new Map(Object.entries(e)),i=s instanceof Map?s:new Map(Object.entries(s));return a.get("days")===i.get("days")&&a.get("start_time")===i.get("start_time")&&a.get("end_time")===i.get("end_time")}function Hs(e,s){return s.some(i=>yt(i,e))?s:[...s,e]}function xt(e,s){let a=[...s];for(const i of e)a=Hs(i,a);return a}function is(e){if(!e||e.length!==6)return"Unknown Semester";const s=e.substring(0,4),a=e.substring(4,6);let i="Unknown";switch(a){case"01":i="Spring";break;case"05":i="Summer";break;case"08":i="Fall";break;case"12":i="Winter";break}return`${i} ${s}`}async function Mt(){try{const e=await fetch("https://api.umd.io/v1/courses/semesters");if(!e.ok)throw new Error(`Failed to fetch semesters: ${e.status}`);const s=await e.json();if(Array.isArray(s)){const n=[...s.map(c=>String(c))].sort((c,d)=>String(d).localeCompare(String(c))).slice(0,3),o=n[0]||"202401";console.log(`Setting current semester to: ${o} (${is(o)})`),console.log(`Available semesters limited to the 3 most recent: ${n.map(c=>is(c)).join(", ")}`),Us.set(n),Ee.set(o)}else console.error("Unexpected response format from semesters API:",s),Ee.set("202401")}catch(e){console.error("Error fetching semesters:",e),Ee.set("202401")}}async function qs(e){try{const s=new URL("https://api.umd.io/v1/courses/list");s.searchParams.set("sort","course_id,-credits"),s.searchParams.set("semester",e),console.log(`Fetching available classes for semester: ${e} (${is(e)})`);const i=await(await fetch(s)).json();rs.set(i.map(n=>n.course_id))}catch(s){Pe.set(s instanceof Error?s.message:"Failed to fetch classes"),console.error("Error fetching classes:",s)}}function zt(){os.set([]),ls.set([]),Pe.set(null),Ze.set([]),Ce.set([]);const e=as(Ee);qs(e)}const qa=Object.freeze(Object.defineProperty({__proto__:null,addMultipleTimeRestrictions:xt,addTimeRestriction:Hs,addedClasses:Ze,areTimeRestrictionsEqual:yt,availableClasses:rs,availableSemesters:Us,classProfessors:us,closeClassModal:gt,closeProfModal:bt,closeViewProfessorModal:mt,colorMap:ys,currentAmountLoaded:Bs,currentSemester:Ee,error:Pe,fetchAvailableClasses:qs,fetchClassDetails:Rs,fetchSemesters:Mt,formatSemester:is,formatTimeForDisplay:Ns,formatTimeRestriction:ft,generateColor:Ds,generateSchedules:gs,generatedSchedules:ls,generatingSchedules:xs,handleSemesterChange:zt,processScheduleData:Ha,prohibitProf:_t,prohibitedProfessors:Ue,prohibitedTimes:Qe,reAddProfessor:bs,removeClasses:ht,removeProhibitedTime:ut,schedules:os,shade:wt,showAddClassModal:vs,showClassModals:Ce,showProfessorModals:Fe,showTimeSelectionModal:ts,sortOption:dt,sortSchedules:pt,umdGold:Ua,umdRed:Ba,viewProfessorDetails:ms,viewProfessorInfo:Xe},Symbol.toStringTag,{value:"Module"}));var Ga=P('<div class="loading svelte-z06z46"><div class="spinner svelte-z06z46"></div> <p class="svelte-z06z46">Loading section information...</p></div>'),Va=P('<div class="error-message svelte-z06z46"><h2 class="svelte-z06z46">Error Loading Section Data</h2> <p class="svelte-z06z46"> </p> <button class="close-btn svelte-z06z46">Close</button></div>'),Wa=P('<li class="svelte-z06z46"> </li>'),Ja=P('<li class="svelte-z06z46">No instructors listed</li>'),Ya=P('<li class="meeting-item svelte-z06z46"><div class="meeting-days svelte-z06z46"> </div> <div class="meeting-time svelte-z06z46"> </div> <div class="meeting-location svelte-z06z46"> </div> <div class="meeting-type svelte-z06z46"> </div></li>'),Ka=P('<ul class="meetings-list svelte-z06z46"></ul>'),Qa=P('<p class="no-meetings svelte-z06z46">No meeting information available</p>'),Xa=P('<div class="modal-header svelte-z06z46"><div class="svelte-z06z46"><h1 class="svelte-z06z46"> </h1> <h2 class="svelte-z06z46"> </h2></div> <button class="close-btn svelte-z06z46"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-z06z46"><line x1="18" y1="6" x2="6" y2="18" class="svelte-z06z46"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-z06z46"></line></svg></button></div> <div class="section-grid svelte-z06z46"><div class="section-details svelte-z06z46"><div class="instructors-container svelte-z06z46"><h3 class="svelte-z06z46">Instructors</h3> <ul class="instructors-list svelte-z06z46"><!></ul></div> <div class="availability svelte-z06z46"><h3 class="svelte-z06z46">Seat Information</h3> <div class="availability-grid svelte-z06z46"><div class="availability-item svelte-z06z46"><span class="label svelte-z06z46">Total Seats:</span> <span class="value svelte-z06z46"> </span></div> <div class="availability-item svelte-z06z46"><span class="label svelte-z06z46">Open Seats:</span> <span class="value svelte-z06z46"> </span></div> <div class="availability-item svelte-z06z46"><span class="label svelte-z06z46">Waitlist:</span> <span class="value svelte-z06z46"> </span></div></div></div></div> <div class="meetings-container svelte-z06z46"><h3 class="svelte-z06z46">Meeting Times & Locations</h3> <!></div></div>',1),Za=P('<div class="error-message svelte-z06z46"><p class="svelte-z06z46">No section data available</p> <button class="close-btn svelte-z06z46">Close</button></div>'),er=P('<dialog class="section-modal svelte-z06z46"><div class="modal-content svelte-z06z46"><!></div></dialog>');function sr(e,s){Je(s,!1);const[a,i]=Fs(),n=()=>we(Ee,"$currentSemester",a),o=V(),c=V();let d=re(s,"showModal",8,!1),x=re(s,"sectionId",8,""),D=re(s,"courseId",8,""),C=re(s,"semester",8,"");const O=hs();let y=V(),M=V(null),f=V(!0),F=V(null);async function J(k=""){L(f,!0),L(F,null);try{const S=k||n()||"202401";console.log(`Fetching section ${x()} details for semester: ${S}`);const te=await fetch(`https://api.umd.io/v1/courses/sections/${x()}?semester=${S}`);if(!te.ok)throw new Error(`Failed to fetch section details: ${te.status}`);const Y=await te.json();if(Array.isArray(Y)&&Y.length>0)L(M,Y[0]);else throw new Error("No section data found")}catch(S){console.error("Error fetching section details:",S),L(F,S instanceof Error?S.message:"Unknown error occurred")}finally{L(f,!1)}}function q(){t(y)&&(t(y).close(),O("close"))}function W(){d()&&O("close")}$e(()=>t(M),()=>{var k;L(o,((k=t(M))==null?void 0:k.open_seats)||0)}),$e(()=>t(M),()=>{var k;L(c,((k=t(M))==null?void 0:k.waitlist)||0)}),$e(()=>(t(y),Ve(d()),Ve(x()),Ve(C()),n()),()=>{if(t(y)&&d()&&x()){t(y).showModal();const k=C()||n()||"202501";J(k)}}),ns(),We();var A=er(),T=l(A),j=l(T);{var he=k=>{var S=Ga();b(k,S)},G=(k,S)=>{{var te=K=>{var X=Va(),ve=v(l(X),2),fe=l(ve,!0);r(ve);var ae=v(ve,2);r(X),U(()=>N(fe,t(F))),H("click",ae,q),b(K,X)},Y=(K,X)=>{{var ve=ae=>{var ee=Xa(),le=Se(ee),_e=l(le),de=l(_e),me=l(de,!0);r(de);var ye=v(de,2),ke=l(ye);r(ye),r(_e);var Ae=v(_e,2);r(le);var E=v(le,2),R=l(E),m=l(R),p=v(l(m),2),B=l(p);{var w=ge=>{var pe=Le(),Ne=Se(pe);ne(Ne,1,()=>t(M).instructors,ie,(Te,Re)=>{var Oe=Wa(),Ss=l(Oe,!0);r(Oe),U(()=>N(Ss,t(Re))),b(Te,Oe)}),b(ge,pe)},Z=ge=>{var pe=Ja();b(ge,pe)};oe(B,ge=>{t(M).instructors&&t(M).instructors.length>0?ge(w):ge(Z,!1)})}r(p),r(m);var h=v(m,2),z=v(l(h),2),_=l(z),u=v(l(_),2),g=l(u,!0);r(u),r(_);var $=v(_,2),I=v(l($),2),Q=l(I,!0);r(I),r($);var ue=v($,2),se=v(l(ue),2),ce=l(se,!0);r(se),r(ue),r(z),r(h),r(R);var xe=v(R,2),Ie=v(l(xe),2);{var De=ge=>{var pe=Ka();ne(pe,5,()=>t(M).meetings,ie,(Ne,Te)=>{var Re=Ya(),Oe=l(Re),Ss=l(Oe,!0);r(Oe);var ks=v(Oe,2),St=l(ks);r(ks);var As=v(ks,2),kt=l(As);r(As);var Gs=v(As,2),At=l(Gs,!0);r(Gs),r(Re),U(()=>{N(Ss,t(Te).days||"N/A"),N(St,`${t(Te).start_time||"N/A"} - ${t(Te).end_time||"N/A"}`),N(kt,`${(t(Te).building||"")??""}
                                        ${(t(Te).room||"")??""}`),N(At,t(Te).classtype||"Lecture")}),b(Ne,Re)}),r(pe),b(ge,pe)},He=ge=>{var pe=Qa();b(ge,pe)};oe(Ie,ge=>{t(M).meetings&&t(M).meetings.length>0?ge(De):ge(He,!1)})}r(xe),r(E),U(()=>{N(me,D()),N(ke,`Section ${t(M).number??""}`),N(g,t(M).seats),N(Q,t(o)),N(ce,t(c))}),H("click",Ae,q),b(ae,ee)},fe=ae=>{var ee=Za(),le=v(l(ee),2);r(ee),H("click",le,q),b(ae,ee)};oe(K,ae=>{t(M)?ae(ve):ae(fe,!1)},X)}};oe(k,K=>{t(F)?K(te):K(Y,!1)},S)}};oe(j,k=>{t(f)?k(he):k(G,!1)})}r(T),r(A),fs(A,k=>L(y,k),()=>t(y)),H("click",T,Ke(function(k){zs.call(this,s,k)})),H("close",A,W),H("click",A,_s(q)),b(e,A),Ye(),i()}var tr=P('<div class="time-label"> </div>'),ar=P('<div class="day-header"> </div>'),rr=P('<div class="grid-line"></div>'),lr=P('<span class="tooltip-rating"> </span>'),or=P('<div class="schedule-slot"><div class="slot-content"><div class="class-row"><span class="class-name"> </span> <span class="section-number"> </span></div> <div class="info-row"><span class="slot-location"> </span> <span class="slot-time"> </span></div></div> <div class="slot-tooltip"><div class="tooltip-professor"> <!></div></div></div>'),ir=P('<div class="schedule-column"></div>'),nr=P('<div class="schedule-wrapper"><div class="schedule-header"><div class="schedule-info"><div class="schedule-number"><span class="schedule-badge"> </span> <h3>Schedule</h3></div> <div class="rating-badge"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg> <span class="rating-value"></span> <span class="rating-label">Avg. Professor Rating</span></div></div></div> <div class="schedule-container"><div class="time-labels"></div> <div class="schedule-content"><div class="day-headers"></div> <div class="grid-area"><div class="grid-lines"></div> <div class="day-columns"></div></div></div></div></div> <!>',1);function cr(e,s){Je(s,!1);let a=V([[],[],[],[],[]]),i=["M","Tu","W","Th","F"],n=["Monday","Tuesday","Wednesday","Thursday","Friday"],o=re(s,"colorMap",24,()=>new Map),c=re(s,"scheduleData",8),d=re(s,"scheduleIndex",8,0);const x=60;let D=480,C=1200,O=[];for(let E=D;E<=C;E+=60){const R=Math.floor(E/60),m=R>=12?"PM":"AM",p=R>12?R-12:R===0?12:R;O.push(`${p}:00 ${m}`)}let y=V(!1),M=V(""),f=V("");function F(E,R){L(f,E),L(M,R),L(y,!0)}function J(){L(y,!1),setTimeout(()=>{L(M,""),L(f,"")},300)}Ms(()=>{Object.keys(c()).forEach(E=>{var m;const R=(m=c()[E])==null?void 0:m.meetings;R&&R.forEach(p=>{const B=p.days.toString(),w=q(p.start_time),Z=q(p.end_time),{startPixels:h,heightPixels:z}=A(w,Z);i.forEach((_,u)=>{if(B.includes(_)){const g={sectionCode:c()[E].number,days:_,startPixels:h,startTime:W(w),endTime:W(Z),class:E,professor:c()[E].instructors.toString(),location:`${p.building} ${p.room}`,prof_rating:c()[E].prof_weight,heightPixels:z,rawStartTime:w.getHours()*60+w.getMinutes(),rawEndTime:Z.getHours()*60+Z.getMinutes()};t(a)[u].push(g)}})})});for(let E=0;E<t(a).length;E++){const R=t(a)[E];if(R.length>1){R.sort((B,w)=>B.rawStartTime-w.rawStartTime);const m=[];let p=[];for(let B=0;B<R.length;B++){const w=R[B];B===0?p=[w]:p.some(h=>w.rawStartTime<h.rawEndTime&&w.rawEndTime>h.rawStartTime)?p.push(w):(p.length>0&&m.push([...p]),p=[w])}p.length>0&&m.push(p),m.forEach(B=>{if(B.length>1)for(let w=0;w<B.length;w++)B[w].horizontalPosition=w,B[w].totalOverlap=B.length})}}L(a,[...t(a)])});const q=E=>{const R=E.trim().toLowerCase(),m=R.includes("pm"),p=R.replace(/am|pm/i,"").trim(),[B,w]=p.split(":");let Z=parseInt(B);const h=parseInt(w);m&&Z<12?Z+=12:!m&&Z===12&&(Z=0);const z=new Date;return z.setHours(Z),z.setMinutes(h),z.setSeconds(0),z},W=E=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(E),A=(E,R)=>{const m=E.getHours()*60+E.getMinutes(),p=R.getHours()*60+R.getMinutes(),B=x/60,w=(m-D)*B,Z=(p-m)*B;return{startPixels:w,heightPixels:Z}};function T(E){return E.sort((R,m)=>R.startPixels-m.startPixels)}function j(){if(!c())return"N/A";let E=0,R=0;return Object.keys(c()).forEach(m=>{c()[m]&&c()[m].prof_weight&&(E+=parseFloat(c()[m].prof_weight),R++)}),R===0?"N/A":(E/R).toFixed(2)}const he=j();We();var G=nr(),k=Se(G),S=l(k),te=l(S),Y=l(te),K=l(Y),X=l(K);r(K),ps(2),r(Y);var ve=v(Y,2),fe=v(l(ve),2);fe.textContent=he,ps(2),r(ve),r(te),r(S);var ae=v(S,2),ee=l(ae);qe(ee,"padding-top: 50px;"),ne(ee,5,()=>O,ie,(E,R)=>{var m=tr();qe(m,"height: 60px;");var p=l(m,!0);r(m),U(()=>N(p,t(R))),b(E,m)}),r(ee);var le=v(ee,2),_e=l(le);qe(_e,"height: 50px;"),ne(_e,5,()=>n,ie,(E,R)=>{var m=ar(),p=l(m,!0);r(m),U(()=>N(p,t(R))),b(E,m)}),r(_e);var de=v(_e,2);qe(de,"height: 720px;");var me=l(de);ne(me,5,()=>O,ie,(E,R,m)=>{var p=rr();qe(p,`top: ${m*x}px; height: 60px;`),b(E,p)}),r(me);var ye=v(me,2);ne(ye,5,()=>i,ie,(E,R,m)=>{var p=ir();ne(p,5,()=>T(t(a)[m]||[]),ie,(B,w)=>{var Z=or(),h=l(Z),z=l(h),_=l(z),u=l(_,!0);r(_);var g=v(_,2),$=l(g);r(g),r(z);var I=v(z,2),Q=l(I),ue=l(Q,!0);r(Q);var se=v(Q,2),ce=l(se);r(se),r(I),r(h);var xe=v(h,2),Ie=l(xe),De=l(Ie),He=v(De);{var ge=pe=>{var Ne=lr(),Te=l(Ne);r(Ne),U(Re=>N(Te,`(${Re??""} ⭐)`),[()=>Number(t(w).prof_rating).toFixed(1)],Be),b(pe,Ne)};oe(He,pe=>{t(w).prof_rating&&pe(ge)})}r(Ie),r(xe),r(Z),U((pe,Ne,Te,Re,Oe)=>{qe(Z,`
										top: ${t(w).startPixels??""}px; 
										height: ${t(w).heightPixels??""}px; 
										background: ${pe??""};
										${t(w).horizontalPosition!==void 0?`left: calc(${t(w).horizontalPosition*(100/t(w).totalOverlap)}%); 
												width: calc(${100/t(w).totalOverlap}%);`:"left: 0; right: 0;"}
									`),N(u,t(w).class),N($,`§${t(w).sectionCode??""}`),N(ue,t(w).location),N(ce,`${Ne??""}-${Te??""}`),qe(xe,`
											background: ${Re??""};
											border-color: ${Oe??""};
										`),N(De,`${t(w).professor??""} `)},[()=>o().get(t(w).class)||"#f0f0f0",()=>t(w).startTime.replace(":00",""),()=>t(w).endTime.replace(":00",""),()=>o().get(t(w).class)||"#f0f0f0",()=>(o().get(t(w).class),"rgba(0, 0, 0, 0.1)")],Be),H("click",Z,()=>F(t(w).class,`${t(w).class}-${t(w).sectionCode}`)),b(B,Z)}),r(p),b(E,p)}),r(ye),r(de),r(le),r(ae),r(k);var ke=v(k,2);{var Ae=E=>{sr(E,{get showModal(){return t(y)},get sectionId(){return t(M)},get courseId(){return t(f)},$$events:{close:J}})};oe(ke,E=>{t(y)&&E(Ae)})}U(()=>N(X,`#${d()+1}`)),b(e,G),Ye()}var vr=P("<option>Loading semesters...</option>"),dr=P("<option> </option>"),ur=P('<div class="semester-selector svelte-amq68y"><select aria-label="Select semester" class="svelte-amq68y"><!></select></div>');function fr(e,s){Je(s,!1);const[a,i]=Fs(),n=()=>we(Ee,"$currentSemester",a),o=()=>we(Us,"$availableSemesters",a);let c=re(s,"onChange",8,null);function d(f){const F=f.target;F&&F.value&&(Me(Ee,F.value),c()&&c()(n()))}We();var x=ur(),D=l(x);vt(D,n);var C,O=l(D);{var y=f=>{var F=vr();F.value=F.__value="202508",b(f,F)},M=f=>{var F=Le(),J=Se(F);ne(J,1,o,ie,(q,W)=>{var A=dr(),T={},j=l(A,!0);r(A),U(he=>{T!==(T=t(W))&&(A.value=(A.__value=t(W))??""),N(j,he)},[()=>is(t(W))],Be),b(q,A)}),b(f,F)};oe(O,f=>{o().length===0?f(y):f(M,!1)})}r(D),r(x),U(()=>{C!==(C=n())&&(D.value=(D.__value=n())??"",ws(D,n()))}),H("change",D,d),b(e,x),Ye(),i()}var hr=P('<button class="restriction-button"> </button>'),_r=P('<button class="restriction-button professor-restriction"> </button>'),gr=P('<div class="restriction-button time-restriction"><span class="restriction-text"> </span> <button class="remove-btn" aria-label="Remove time restriction"><svg class="remove-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div>'),br=P('<div class="error-message" role="alert"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> </div>'),mr=P('<div class="loading-container"><div class="spinner"></div> <p>Generating schedules, please wait...</p></div>'),pr=P(`<div class="empty-state"><div class="empty-state-icon"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div> <h2>No schedules generated yet</h2> <p>Add some classes and click "Generate Schedules" to get
					started</p></div>`),wr=P(`<div class="schedules-header"><h2>Generated Schedules</h2> <div class="schedules-count"><span class="badge"> </span> possible
					schedules found</div></div> <div class="schedules-container"></div>`,1),yr=P('<div class="app-container"><header class="app-header"><div class="header-content"><div class="header-left"><h1 class="app-title">UMD Scheduler</h1> <!></div> <div class="header-actions"><button class="btn btn-outline"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> Add Time Restriction</button> <button class="btn btn-outline"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> Add Class</button> <button class="btn btn-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6l9 6 9-6M3 12l9 6 9-6"></path></svg> </button></div></div></header> <main class="app-main"><div class="restrictions-container"><div class="restriction-box"><h2 class="restriction-title">Selected Classes</h2> <div class="restriction-items"></div></div> <div class="restriction-box"><h2 class="restriction-title">Professor Restrictions</h2> <div class="restriction-items"></div></div> <div class="restriction-box"><h2 class="restriction-title">Time Restrictions</h2> <div class="restriction-items"></div></div></div> <!> <!></main></div> <!> <!> <!> <!> <!>',1);function Tr(e,s){Je(s,!1);const[a,i]=Fs(),n=()=>we(os,"$schedules",a),o=()=>we(Ze,"$addedClasses",a),c=()=>we(ys,"$colorMap",a),d=()=>we(Ee,"$currentSemester",a),x=()=>we(ts,"$showTimeSelectionModal",a),D=()=>we(vs,"$showAddClassModal",a),C=()=>we(xs,"$generatingSchedules",a),O=()=>we(Ce,"$showClassModals",a),y=()=>we(Ue,"$prohibitedProfessors",a),M=()=>we(Fe,"$showProfessorModals",a),f=()=>we(Qe,"$prohibitedTimes",a),F=()=>we(Pe,"$error",a),J=()=>we(ls,"$generatedSchedules",a),q=()=>we(rs,"$availableClasses",a),W=()=>we(Xe,"$viewProfessorInfo",a),A=V();Ms(async()=>{await Mt(),d()&&qs(d()),o().forEach(u=>{Rs(u,d())})}),$e(()=>n(),()=>{L(A,pt(n()))}),$e(()=>(o(),c(),qa),()=>{o().forEach((u,g)=>{c().has(u)||c().set(u,Ds(g))})}),ns(),We();var T=yr(),j=Se(T),he=l(j),G=l(he),k=l(G),S=v(l(k),2);fr(S,{onChange:zt}),r(k);var te=v(k,2),Y=l(te),K=v(Y,2),X=v(K,2),ve=v(l(X));r(X),r(te),r(G),r(he);var fe=v(he,2),ae=l(fe),ee=l(ae),le=v(l(ee),2);ne(le,5,o,ie,(u,g,$)=>{var I=hr(),Q=l(I,!0);r(I),U((ue,se,ce)=>{qe(I,`background-color: ${ue??""}; 
								   color: ${se??""};
								   border-color: ${ce??""};`),N(Q,t(g))},[()=>c().get(t(g))||"#f5f5f5",()=>c().get(t(g))?"#333":"#666",()=>c().get(t(g))?wt(c().get(t(g))??"#646464",20):"#e0e0e0"],Be),H("click",I,()=>{Ps(Ce,je(O)[$]=!0,je(O)),Me(Ce,[...O()])}),b(u,I)}),r(le),r(ee);var _e=v(ee,2),de=v(l(_e),2);ne(de,5,y,ie,(u,g,$)=>{var I=_r(),Q=l(I,!0);r(I),U(()=>N(Q,t(g))),H("click",I,()=>{Ps(Fe,je(M)[$]=!0,je(M)),Me(Fe,[...M()])}),b(u,I)}),r(de),r(_e);var me=v(_e,2),ye=v(l(me),2);ne(ye,5,f,ie,(u,g,$)=>{var I=gr(),Q=l(I),ue=l(Q,!0);r(Q);var se=v(Q,2);r(I),U(ce=>N(ue,ce),[()=>ft(t(g))],Be),H("click",se,Ke(()=>ut($))),b(u,I)}),r(ye),r(me),r(ae);var ke=v(ae,2);{var Ae=u=>{var g=br(),$=v(l(g));r(g),U(()=>N($,` ${F()??""}`)),b(u,g)};oe(ke,u=>{F()&&u(Ae)})}var E=v(ke,2);{var R=u=>{var g=mr();b(u,g)},m=(u,g)=>{{var $=Q=>{var ue=pr();b(Q,ue)},I=Q=>{var ue=wr(),se=Se(ue),ce=v(l(se),2),xe=l(ce),Ie=l(xe,!0);r(xe),ps(),r(ce),r(se);var De=v(se,2);ne(De,5,()=>t(A),ie,(He,ge,pe)=>{cr(He,{get scheduleData(){return t(ge)},get colorMap(){return c()},scheduleIndex:pe})}),r(De),U(()=>N(Ie,J().length)),b(Q,ue)};oe(u,Q=>{t(A).length===0?Q($):Q(I,!1)},g)}};oe(E,u=>{C()?u(R):u(m,!1)})}r(fe),r(j);var p=v(j,2);{var B=u=>{Pa(u,{get prohibitedTimes(){return f()},get showTimeSelectionModal(){return x()},$$events:{close:()=>Me(ts,!1),add:g=>{const $=Hs(g.detail,f());Me(Qe,$.map(I=>I instanceof Map?I:new Map(Object.entries(I)))),Me(ts,!1)},addMultiple:g=>{Me(Qe,xt(g.detail,f()).map($=>$ instanceof Map?$:new Map(Object.entries($)))),Me(ts,!1)}}})};oe(p,u=>{x()&&u(B)})}var w=v(p,2);{var Z=u=>{xa(u,{get availableClasses(){return q()},get addedClasses(){return o()},get showAddClassModal(){return D()},$$events:{close:()=>Me(vs,!1),add:g=>{const $=g.detail,I=typeof $=="string"?$:$.className;o().includes(I)||(Me(Ze,[...o(),I]),Rs(I),c().has(I)||c().set(I,Ds(o().length-1)),Me(rs,q().filter(Q=>Q!==I)),Me(Ce,new Array(o().length).fill(!1)),typeof $=="object"&&$.showModal&&Ps(Ce,je(O)[o().length-1]=!0,je(O)),Me(vs,!1))}}})};oe(w,u=>{D()&&u(Z)})}var h=v(w,2);ne(h,1,o,ie,(u,g,$)=>{var I=Le(),Q=Se(I);{var ue=se=>{ba(se,{get className(){return o()[$]},get showModal(){return O()[$]},get prohibitedProfessors(){return y()},index:$,get showProfessorModals(){return M()},get closeModal(){return gt},get removeClasses(){return ht},get prohibitProf(){return _t},get reAddProfessor(){return bs},$$events:{viewProfessor(...ce){ms==null||ms.apply(this,ce)}}})};oe(Q,se=>{O()[$]&&se(ue)})}b(u,I)});var z=v(h,2);ne(z,1,W,ie,(u,g,$)=>{var I=Le(),Q=Se(I);{var ue=se=>{et(se,{get profName(){return t(g).name},get addedClasses(){return o()},get showModal(){return t(g).showModal},index:$,get closeModal(){return mt},get reAddProfessor(){return bs},isViewOnly:!0,get returnTo(){return t(g).returnTo}})};oe(Q,se=>{t(g).showModal&&se(ue)})}b(u,I)});var _=v(z,2);ne(_,1,y,ie,(u,g,$)=>{var I=Le(),Q=Se(I);{var ue=se=>{et(se,{get profName(){return t(g)},get addedClasses(){return o()},get showModal(){return M()[$]},index:$,get closeModal(){return bt},get reAddProfessor(){return bs}})};oe(Q,se=>{M()[$]&&se(ue)})}b(u,I)}),U(()=>{X.disabled=C(),N(ve,` ${C()?"Generating...":"Generate Schedules"}`)}),H("click",Y,()=>Me(ts,!0)),H("click",K,()=>Me(vs,!0)),H("click",X,function(...u){gs==null||gs.apply(this,u)}),b(e,T),Ye(),i()}export{Tr as component};
