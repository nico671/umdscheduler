{"version":3,"file":"index2.js","sources":["../src/api/build/css_injection.js","../src/api/build/prerender.js","../src/api/build/Builder.js","../src/api/build/index.js"],"sourcesContent":["\n\n\n\n\n\n\n\n\nconst inject_styles = `\nexport default function(files) {\n\treturn Promise.all(files.map(function(file) { return new Promise(function(fulfil, reject) {\n\t\tvar href = new URL(file, import.meta.url);\n\t\tvar baseURI = document.baseURI;\n\t\tif (!baseURI) {\n\t\t\tvar baseTags = document.getElementsByTagName('base');\n\t\t\tbaseURI = baseTags.length ? baseTags[0].href : document.URL;\n\t\t}\n\t\tvar relative = ('' + href).substring(baseURI.length);\n\t\tvar link = document.querySelector('link[rel=stylesheet][href=\"' + relative + '\"]')\n\t\t\t|| document.querySelector('link[rel=stylesheet][href=\"' + href + '\"]');\n\t\tif (!link) {\n\t\t\tlink = document.createElement('link');\n\t\t\tlink.rel = 'stylesheet';\n\t\t\tlink.href = href;\n\t\t\tdocument.head.appendChild(link);\n\t\t}\n\t\tif (link.sheet) {\n\t\t\tfulfil();\n\t\t} else {\n\t\t\tlink.onload = function() { return fulfil() };\n\t\t\tlink.onerror = reject;\n\t\t}\n\t})}));\n};`.trim();\n\nconst INJECT_STYLES_NAME = 'inject_styles';\nconst INJECT_STYLES_ID = 'inject_styles.js';\n\nconst find_css = (chunk, bundle) => {\n\tconst css_files = new Set();\n\tconst visited = new Set();\n\n\tconst recurse = (c) => {\n\t\tif (visited.has(c)) return;\n\t\tvisited.add(c);\n\n\t\tif (c.imports) {\n\t\t\tc.imports.forEach((file) => {\n\t\t\t\tif (file.endsWith('.css')) {\n\t\t\t\t\tcss_files.add(file);\n\t\t\t\t} else {\n\t\t\t\t\tconst imported_chunk = bundle[file];\n\t\t\t\t\tif (imported_chunk) {\n\t\t\t\t\t\trecurse(imported_chunk);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\trecurse(chunk);\n\treturn Array.from(css_files);\n};\n\nexport const css_injection = {\n\tname: 'svelte-css-injection',\n\tbuildStart() {\n\t\tthis.emitFile({\n\t\t\ttype: 'chunk',\n\t\t\tid: INJECT_STYLES_ID,\n\t\t\tname: INJECT_STYLES_NAME,\n\t\t\tpreserveSignature: 'allow-extension'\n\t\t});\n\t},\n\tload(id) {\n\t\treturn id === INJECT_STYLES_ID ? inject_styles : null;\n\t},\n\tresolveId(importee) {\n\t\treturn importee === INJECT_STYLES_ID ? INJECT_STYLES_ID : null;\n\t},\n\trenderDynamicImport({ targetModuleId }) {\n\t\tif (targetModuleId) {\n\t\t\tconst t = Buffer.from(targetModuleId).toString('hex');\n\t\t\treturn {\n\t\t\t\tleft: 'Promise.all([import(',\n\t\t\t\tright: `), ___SVELTE_CSS_INJECTION___${t}___]).then(function(x) { return x[0]; })`\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tleft: 'import(',\n\t\t\t\tright: ')'\n\t\t\t};\n\t\t}\n\t},\n\tasync generateBundle(\n\t\t\n\t\t_options,\n\t\tbundle\n\t) {\n\t\tconst inject_styles_file = Object.keys(bundle).find((f) => f.startsWith('inject_styles'));\n\n\t\tlet has_css = false;\n\t\tfor (const name in bundle) {\n\t\t\tconst chunk = bundle[name];\n\n\t\t\tlet chunk_has_css = false;\n\n\t\t\tif (chunk.code) {\n\t\t\t\tchunk.code = chunk.code.replace(/___SVELTE_CSS_INJECTION___([0-9a-f]+)___/g, (_m, id) => {\n\t\t\t\t\tid = Buffer.from(id, 'hex').toString();\n\t\t\t\t\tconst target = (\n\t\t\t\t\t\tObject.values(bundle).find(\n\t\t\t\t\t\t\t(c) => (c).modules && (c).modules[id]\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tconst css_files = find_css(target, bundle);\n\t\t\t\t\t\tif (css_files.length > 0) {\n\t\t\t\t\t\t\tchunk_has_css = true;\n\t\t\t\t\t\t\treturn `__inject_styles(${JSON.stringify(css_files)})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn '';\n\t\t\t\t});\n\n\t\t\t\tif (chunk_has_css) {\n\t\t\t\t\thas_css = true;\n\t\t\t\t\tchunk.code += `\\nimport __inject_styles from './${inject_styles_file}';`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!has_css) {\n\t\t\tdelete bundle[inject_styles_file];\n\t\t}\n\n\t\t// console.log(bundle);\n\t}\n};\n","import fs from 'fs';\nimport { dirname, resolve as resolve_path } from 'path';\nimport { parse, resolve, URLSearchParams } from 'url';\nimport { mkdirp } from '@sveltejs/app-utils/files';\n\nfunction clean_html(html) {\n\treturn html\n\t\t.replace(/<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/gm, '')\n\t\t.replace(/(<script[\\s\\S]*?>)[\\s\\S]*?<\\/script>/gm, '$1</' + 'script>')\n\t\t.replace(/(<style[\\s\\S]*?>)[\\s\\S]*?<\\/style>/gm, '$1</' + 'style>')\n\t\t.replace(/<!--[\\s\\S]*?-->/gm, '');\n}\n\nfunction get_href(attrs) {\n\tconst match = /href\\s*=\\s*(?:\"(.*?)\"|'(.*?)'|([^\\s>]*))/.exec(attrs);\n\treturn match && (match[1] || match[2] || match[3]);\n}\n\nfunction get_src(attrs) {\n\tconst match = /src\\s*=\\s*(?:\"(.*?)\"|'(.*?)'|([^\\s>]*))/.exec(attrs);\n\treturn match && (match[1] || match[2] || match[3]);\n}\n\nfunction get_srcset_urls(attrs) {\n\tconst results = [];\n\t// Note that the srcset allows any ASCII whitespace, including newlines.\n\tconst match = /srcset\\s*=\\s*(?:\"(.*?)\"|'(.*?)'|([^\\s>]*))/s.exec(attrs);\n\tif (match) {\n\t\tconst attr_content = match[1] || match[2] || match[3];\n\t\t// Parse the content of the srcset attribute.\n\t\t// The regexp is modelled after the srcset specs (https://html.spec.whatwg.org/multipage/images.html#srcset-attribute)\n\t\t// and should cover most reasonable cases.\n\t\tconst regex = /\\s*([^\\s,]\\S+[^\\s,])\\s*((?:\\d+w)|(?:-?\\d+(?:\\.\\d+)?(?:[eE]-?\\d+)?x))?/gm;\n\t\tlet sub_matches;\n\t\twhile ((sub_matches = regex.exec(attr_content))) {\n\t\t\tresults.push(sub_matches[1]);\n\t\t}\n\t}\n\treturn results;\n}\n\nconst OK = 2;\nconst REDIRECT = 3;\n\nexport async function prerender({\n\tdir,\n\tout,\n\tmanifest,\n\tlog,\n\tforce\n}) {\n\tconst seen = new Set();\n\n\tconst server_root = resolve_path(dir);\n\tconst app = require(`${server_root}/server/app.js`);\n\n\tasync function crawl(path) {\n\t\tif (seen.has(path)) return;\n\t\tseen.add(path);\n\n\t\tconst rendered = await app.render({\n\t\t\thost: null, // TODO ???\n\t\t\tmethod: 'GET',\n\t\t\theaders: {},\n\t\t\tpath,\n\t\t\tbody: null,\n\t\t\tquery: new URLSearchParams()\n\t\t}, {\n\t\t\tonly_prerender: !force\n\t\t});\n\n\t\tif (rendered) {\n\t\t\tconst response_type = Math.floor(rendered.status / 100);\n\t\t\tconst headers = rendered.headers;\n\t\t\tconst type = headers && headers['content-type'];\n\t\t\tconst is_html = response_type === REDIRECT || type === 'text/html';\n\n\t\t\tconst parts = path.split('/');\n\t\t\tif (is_html && parts[parts.length - 1] !== 'index.html') {\n\t\t\t\tparts.push('index.html');\n\t\t\t}\n\n\t\t\tconst file = `${out}${parts.join('/')}`;\n\t\t\tmkdirp(dirname(file));\n\n\t\t\tif (response_type === REDIRECT) {\n\t\t\t\tconst location = headers['location'];\n\n\t\t\t\tlog.warn(`${rendered.status} ${path} -> ${location}`);\n\t\t\t\tfs.writeFileSync(\n\t\t\t\t\tfile,\n\t\t\t\t\t`<script>window.location.href=${JSON.stringify(headers['location'])}</script>`\n\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (response_type === OK) {\n\t\t\t\tlog.info(`${rendered.status} ${path}`);\n\t\t\t\tfs.writeFileSync(file, rendered.body); // TODO minify where possible?\n\t\t\t} else {\n\t\t\t\t// TODO should this fail the build?\n\t\t\t\tlog.error(`${rendered.status} ${path}`);\n\t\t\t}\n\n\t\t\tconst { dependencies } = rendered ;\n\n\t\t\tif (dependencies) {\n\t\t\t\tfor (const path in dependencies) {\n\t\t\t\t\tconst result = dependencies[path];\n\t\t\t\t\tconst response_type = Math.floor(result.status / 100);\n\n\t\t\t\t\tconst is_html = result.headers['content-type'] === 'text/html';\n\n\t\t\t\t\tconst parts = path.split('/');\n\t\t\t\t\tif (is_html && parts[parts.length - 1] !== 'index.html') {\n\t\t\t\t\t\tparts.push('index.html');\n\t\t\t\t\t}\n\n\t\t\t\t\tconst file = `${out}${parts.join('/')}`;\n\t\t\t\t\tmkdirp(dirname(file));\n\n\t\t\t\t\tfs.writeFileSync(file, result.body);\n\n\t\t\t\t\tif (response_type === OK) {\n\t\t\t\t\t\tlog.info(`${result.status} ${path}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlog.error(`${result.status} ${path}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (is_html) {\n\t\t\t\tconst cleaned = clean_html(rendered.body);\n\n\t\t\t\tlet match;\n\t\t\t\tconst pattern = /<(a|img|link|source)\\s+([\\s\\S]+?)>/gm;\n\n\t\t\t\twhile ((match = pattern.exec(cleaned))) {\n\t\t\t\t\tlet hrefs = [];\n\t\t\t\t\tconst element = match[1];\n\t\t\t\t\tconst attrs = match[2];\n\n\t\t\t\t\tif (element === 'a' || element === 'link') {\n\t\t\t\t\t\threfs.push(get_href(attrs));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (element === 'img') {\n\t\t\t\t\t\t\threfs.push(get_src(attrs));\n\t\t\t\t\t\t}\n\t\t\t\t\t\threfs.push(...get_srcset_urls(attrs));\n\t\t\t\t\t}\n\n\t\t\t\t\threfs = hrefs.filter(Boolean);\n\n\t\t\t\t\tfor (const href of hrefs) {\n\t\t\t\t\t\tconst resolved = resolve(path, href);\n\t\t\t\t\t\tif (resolved[0] !== '/') continue;\n\n\t\t\t\t\t\tconst parsed = parse(resolved);\n\n\t\t\t\t\t\tconst parts = parsed.pathname.slice(1).split('/').filter(Boolean);\n\t\t\t\t\t\tif (parts[parts.length - 1] === 'index.html') parts.pop();\n\n\t\t\t\t\t\tconst file_exists =\n\t\t\t\t\t\t\t(parsed.pathname.startsWith('/_app/') && fs.existsSync(`${dir}/client/${parsed.pathname}`)) ||\n\t\t\t\t\t\t\tfs.existsSync(`${out}${parsed.pathname}`) ||\n\t\t\t\t\t\t\tfs.existsSync(`static${parsed.pathname}`) ||\n\t\t\t\t\t\t\tfs.existsSync(`static${parsed.pathname}/index.html`);\n\n\t\t\t\t\t\tif (file_exists) continue;\n\n\t\t\t\t\t\tif (parsed.query) {\n\t\t\t\t\t\t\t// TODO warn that query strings have no effect on statically-exported pages\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tawait crawl(parsed.pathname);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tconst entries = manifest.pages.map((page) => page.path).filter(Boolean);\n\n\tfor (const entry of entries) {\n\t\tawait crawl(entry);\n\t}\n}\n","import { copy } from '@sveltejs/app-utils/files';\nimport { prerender } from './prerender';\n\nexport default class Builder {\n\t#generated_files;\n\t#static_files;\n\t#manifest;\n\n\tconstructor({\n\t\tgenerated_files,\n\t\tstatic_files,\n\t\tlog,\n\t\tmanifest\n\t}) {\n\t\tthis.#generated_files = generated_files;\n\t\tthis.#static_files = static_files;\n\t\tthis.#manifest = manifest;\n\n\t\tthis.log = log;\n\t}\n\n\tcopy_client_files(dest) {\n\t\tcopy(`${this.#generated_files}/client`, dest, (file) => file[0] !== '.');\n\t}\n\n\tcopy_server_files(dest) {\n\t\tcopy(`${this.#generated_files}/server`, dest, (file) => file[0] !== '.');\n\t}\n\n\tcopy_static_files(dest) {\n\t\tcopy(this.#static_files, dest);\n\t}\n\n\tasync prerender({\n\t\tforce = false,\n\t\tdest\n\t}) {\n\t\tawait prerender({\n\t\t\tout: dest,\n\t\t\tforce,\n\t\t\tdir: this.#generated_files,\n\t\t\tmanifest: this.#manifest,\n\t\t\tlog: this.log\n\t\t});\n\t}\n}\n","import fs from 'fs';\nimport path from 'path';\nimport child_process from 'child_process';\nimport { promisify } from 'util';\nimport colors from 'kleur';\nimport relative from 'require-relative';\nimport { mkdirp } from '@sveltejs/app-utils/files';\nimport create_manifest_data from '../../core/create_manifest_data';\nimport { rollup } from 'rollup';\nimport { terser } from 'rollup-plugin-terser';\nimport css_chunks from 'rollup-plugin-css-chunks';\nimport { copy_assets } from '../utils';\nimport { create_app } from '../../core/create_app';\nimport { css_injection } from './css_injection';\nimport Builder from './Builder';\n\nconst exec = promisify(child_process.exec);\n\nconst snowpack_main = require.resolve('snowpack');\nconst snowpack_pkg_file = path.join(snowpack_main, '../../package.json');\nconst snowpack_pkg = require(snowpack_pkg_file); // eslint-disable-line\nconst snowpack_bin = path.resolve(path.dirname(snowpack_pkg_file), snowpack_pkg.bin.snowpack);\n\nconst ignorable_warnings = new Set(['EMPTY_BUNDLE', 'CIRCULAR_DEPENDENCY', 'MISSING_EXPORT']);\nconst onwarn = (warning, handler) => {\n\t// TODO would be nice to just eliminate the circular dependencies instead of\n\t// squelching these warnings (it happens when e.g. the root layout imports\n\t// from $app/navigation)\n\tif (ignorable_warnings.has(warning.code)) return;\n\thandler(warning);\n};\n\nexport async function build(config) {\n\tif (!config.adapter) {\n\t\tthrow new Error('No adapter specified');\n\t}\n\n\tconst manifest = create_manifest_data(config.paths.routes);\n\n\tmkdirp('.svelte/assets');\n\tcreate_app({\n\t\tmanifest_data: manifest,\n\t\toutput: '.svelte/assets'\n\t});\n\n\tconst header = (msg) => console.log(colors.bold().cyan(`\\n> ${msg}`));\n\n\tconst log = (msg) => console.log(msg.replace(/^/gm, '  '));\n\tlog.success = (msg) => log(colors.green(`✔ ${msg}`));\n\tlog.error = (msg) => log(colors.bold().red(msg));\n\tlog.warn = (msg) => log(colors.bold().yellow(msg));\n\tlog.minor = (msg) => log(colors.grey(msg));\n\tlog.info = log;\n\n\tconst unoptimized = '.svelte/build/unoptimized';\n\n\t{\n\t\t// phase one — build with Snowpack\n\t\theader('Creating unoptimized build...');\n\t\tawait rimraf('.svelte/build/unoptimized');\n\n\t\tcopy_assets();\n\n\t\tconst setup_file = `${unoptimized}/server/_app/setup/index.js`;\n\t\tif (!fs.existsSync(setup_file)) {\n\t\t\tmkdirp(path.dirname(setup_file));\n\t\t\tfs.writeFileSync(setup_file, '');\n\t\t}\n\n\t\tconst mount = `--mount.${config.paths.routes}=/_app/routes --mount.${config.paths.setup}=/_app/setup`;\n\n\t\tawait exec(`node ${snowpack_bin} build ${mount} --out=${unoptimized}/server --ssr`);\n\t\tlog.success('server');\n\t\tawait exec(`node ${snowpack_bin} build ${mount} --out=${unoptimized}/client`);\n\t\tlog.success('client');\n\t}\n\n\t{\n\t\t// phase two — optimise\n\t\theader('Optimizing...');\n\t\tawait rimraf('.svelte/build/optimized');\n\n\t\tconst s = JSON.stringify;\n\n\t\tconst client = {\n\t\t\tentry: null,\n\t\t\tdeps: {}\n\t\t};\n\n\t\tconst entry = path.resolve(`${unoptimized}/client/_app/assets/runtime/internal/start.js`);\n\n\t\t// https://github.com/snowpackjs/snowpack/discussions/1395\n\t\tconst re = /(\\.\\.\\/)+_app\\/assets\\/app\\//;\n\t\tconst work_around_alias_bug = (type) => ({\n\t\t\tname: 'work-around-alias-bug',\n\t\t\tresolveId(imported) {\n\t\t\t\tif (re.test(imported)) {\n\t\t\t\t\treturn path.resolve(`${unoptimized}/${type}/_app/assets/app`, imported.replace(re, ''));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst client_chunks = await rollup({\n\t\t\tinput: {\n\t\t\t\tentry\n\t\t\t},\n\t\t\tplugins: [\n\t\t\t\twork_around_alias_bug('client'),\n\t\t\t\t{\n\t\t\t\t\tname: 'deproxy-css',\n\t\t\t\t\tasync resolveId(importee, importer) {\n\t\t\t\t\t\tif (/\\.css\\.proxy\\.js$/.test(importee)) {\n\t\t\t\t\t\t\tconst deproxied = importee.replace(/\\.css\\.proxy\\.js$/, '.css');\n\t\t\t\t\t\t\tconst resolved = await this.resolve(deproxied, importer);\n\t\t\t\t\t\t\treturn resolved.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcss_chunks({\n\t\t\t\t\tinjectImports: true,\n\t\t\t\t\tsourcemap: true\n\t\t\t\t}),\n\t\t\t\tcss_injection,\n\t\t\t\t{\n\t\t\t\t\tname: 'generate-client-manifest',\n\t\t\t\t\tgenerateBundle(_options, bundle) {\n\t\t\t\t\t\tconst reverse_lookup = new Map();\n\n\t\t\t\t\t\tconst routes = path.resolve(`${unoptimized}/client/_app/routes`);\n\n\t\t\t\t\t\tlet inject_styles;\n\n\t\t\t\t\t\tfor (const key in bundle) {\n\t\t\t\t\t\t\tconst chunk = bundle[key];\n\n\t\t\t\t\t\t\tif (chunk.facadeModuleId === entry) {\n\t\t\t\t\t\t\t\tclient.entry = key;\n\t\t\t\t\t\t\t} else if (chunk.facadeModuleId === 'inject_styles.js') {\n\t\t\t\t\t\t\t\tinject_styles = key;\n\t\t\t\t\t\t\t} else if (chunk.modules) {\n\t\t\t\t\t\t\t\tfor (const id in chunk.modules) {\n\t\t\t\t\t\t\t\t\tif (id.startsWith(routes) && id.endsWith('.js')) {\n\t\t\t\t\t\t\t\t\t\tconst file = id.slice(routes.length + 1);\n\t\t\t\t\t\t\t\t\t\treverse_lookup.set(file, key);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst find_deps = (key, js, css) => {\n\t\t\t\t\t\t\tif (js.has(key)) return;\n\n\t\t\t\t\t\t\tjs.add(key);\n\n\t\t\t\t\t\t\tconst chunk = bundle[key];\n\n\t\t\t\t\t\t\tif (chunk) {\n\t\t\t\t\t\t\t\tconst imports = chunk.imports;\n\n\t\t\t\t\t\t\t\tif (imports) {\n\t\t\t\t\t\t\t\t\timports.forEach((key) => {\n\t\t\t\t\t\t\t\t\t\tif (key.endsWith('.css')) {\n\t\t\t\t\t\t\t\t\t\t\tjs.add(inject_styles);\n\t\t\t\t\t\t\t\t\t\t\tcss.add(key);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tfind_deps(key, js, css);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.error(`'${key}' is imported but could not be bundled`);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn { js, css };\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst get_deps = (key) => {\n\t\t\t\t\t\t\tconst js = new Set();\n\t\t\t\t\t\t\tconst css = new Set();\n\n\t\t\t\t\t\t\tfind_deps(key, js, css);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tjs: Array.from(js),\n\t\t\t\t\t\t\t\tcss: Array.from(css)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tclient.deps.__entry__ = get_deps(client.entry);\n\n\t\t\t\t\t\tmanifest.components.forEach((component) => {\n\t\t\t\t\t\t\tconst file = path.normalize(component.file.replace(/\\.svelte$/, '.js'));\n\t\t\t\t\t\t\tconst key = reverse_lookup.get(file);\n\n\t\t\t\t\t\t\tclient.deps[component.name] = get_deps(key);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tterser()\n\t\t\t],\n\n\t\t\tonwarn,\n\n\t\t\t// TODO ensure this works with external node modules (on server)\n\t\t\texternal: (id) => id[0] !== '.' && !path.isAbsolute(id)\n\t\t});\n\n\t\tawait client_chunks.write({\n\t\t\tdir: '.svelte/build/optimized/client/_app',\n\t\t\tentryFileNames: '[name]-[hash].js',\n\t\t\tchunkFileNames: '[name]-[hash].js',\n\t\t\tassetFileNames: '[name]-[hash].js', // TODO CSS filenames aren't hashed?\n\t\t\tformat: 'esm',\n\t\t\tsourcemap: true\n\t\t});\n\n\t\tlog.success('client');\n\n\t\tfs.writeFileSync(`${unoptimized}/server/app.js`, `\n\t\t\timport * as renderer from '@sveltejs/kit/assets/renderer';\n\t\t\timport root from './_app/assets/generated/root.js';\n\t\t\timport * as setup from './_app/setup/index.js';\n\n\t\t\tconst template = ({ head, body }) => ${s(fs.readFileSync(config.paths.template, 'utf-8'))\n\t\t\t\t.replace('%svelte.head%', '\" + head + \"')\n\t\t\t\t.replace('%svelte.body%', '\" + body + \"')};\n\n\t\t\tconst manifest = {\n\t\t\t\tlayout: ${s(manifest.layout)},\n\t\t\t\terror: ${s(manifest.error)},\n\t\t\t\tcomponents: ${s(manifest.components)},\n\t\t\t\tpages: [\n\t\t\t\t\t${manifest.pages\n\t\t\t\t\t\t.map(({ pattern, parts: json_parts }) => {\n\t\t\t\t\t\t\tconst parts = JSON.stringify(json_parts);\n\t\t\t\t\t\t\treturn `{ pattern: ${pattern}, parts: ${parts} }`;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join(',')}\n\t\t\t\t],\n\t\t\t\tendpoints: [\n\t\t\t\t\t${manifest.endpoints\n\t\t\t\t\t\t.map(({ name, pattern, file, params: json_params }) => {\n\t\t\t\t\t\t\tconst params = JSON.stringify(json_params);\n\t\t\t\t\t\t\treturn `{ name: '${name}', pattern: ${pattern}, file: '${file}', params: ${params} }`;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join(',')}\n\t\t\t\t]\n\t\t\t};\n\n\t\t\tconst client = ${s(client)};\n\n\t\t\texport const paths = {\n\t\t\t\tstatic: ${s(config.paths.static)}\n\t\t\t};\n\n\t\t\texport function render(request, { only_prerender = false } = {}) {\n\t\t\t\treturn renderer.render(request, {\n\t\t\t\t\tstatic_dir: paths.static,\n\t\t\t\t\ttemplate,\n\t\t\t\t\tmanifest,\n\t\t\t\t\ttarget: ${s(config.target)},\n\t\t\t\t\tclient,\n\t\t\t\t\troot,\n\t\t\t\t\tsetup,\n\t\t\t\t\tload: (route) => require(\\`./routes/\\${route.name}.js\\`),\n\t\t\t\t\tdev: false,\n\t\t\t\t\tonly_prerender\n\t\t\t\t});\n\t\t\t}\n\t\t`.replace(/^\\t{3}/gm, '').trim());\n\n\t\tconst server_input = {\n\t\t\tapp: `${unoptimized}/server/app.js`\n\t\t};\n\n\t\t[\n\t\t\tmanifest.layout,\n\t\t\tmanifest.error,\n\t\t\t...manifest.components,\n\t\t\t...manifest.endpoints\n\t\t].forEach((item) => {\n\t\t\tserver_input[`routes/${item.name}`] = `${unoptimized}/server${item.url.replace(\n\t\t\t\t/\\.\\w+$/,\n\t\t\t\t'.js'\n\t\t\t)}`;\n\t\t});\n\n\t\tconst server_chunks = await rollup({\n\t\t\tinput: server_input,\n\t\t\tplugins: [\n\t\t\t\twork_around_alias_bug('server'),\n\t\t\t\t{\n\t\t\t\t\tname: 'remove-css',\n\t\t\t\t\tload(id) {\n\t\t\t\t\t\tif (/\\.css\\.proxy\\.js$/.test(id)) return '';\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t// TODO add server manifest generation so we can prune\n\t\t\t\t// imports before zipping for cloud functions\n\t\t\t\tterser()\n\t\t\t],\n\n\t\t\tonwarn,\n\n\t\t\t// TODO ensure this works with external node modules (on server)\n\t\t\texternal: (id) => id[0] !== '.' && !path.isAbsolute(id)\n\t\t});\n\n\t\tawait server_chunks.write({\n\t\t\tdir: '.svelte/build/optimized/server',\n\t\t\tformat: 'cjs', // TODO some adapters might want ESM?\n\t\t\texports: 'named',\n\t\t\tentryFileNames: '[name].js',\n\t\t\tchunkFileNames: 'chunks/[name].js',\n\t\t\tassetFileNames: 'assets/[name].js',\n\t\t\tsourcemap: true\n\t\t});\n\n\t\tlog.success('server');\n\t}\n\n\t{\n\t\t// phase three — adapter\n\t\theader(`Generating app (${config.adapter})...`);\n\n\t\tconst builder = new Builder({\n\t\t\tgenerated_files: '.svelte/build/optimized',\n\t\t\tstatic_files: config.paths.static,\n\t\t\tmanifest,\n\t\t\tlog\n\t\t});\n\n\t\tconst adapter = relative(config.adapter);\n\t\tawait adapter(builder);\n\t}\n\n\tlog.success('done');\n}\n\nasync function rimraf(path) {\n\treturn new Promise((resolve) => {\n\t\t(fs.rm || fs.rmdir)(path, { recursive: true, force: true }, () => resolve());\n\t});\n}\n"],"names":["resolve_path","path","URLSearchParams","mkdirp","dirname","fs","resolve","parse","copy","promisify","child_process","create_manifest_data","create_app","colors","copy_assets","rollup","css_chunks","terser","relative"],"mappings":"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"}